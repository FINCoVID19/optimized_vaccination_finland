# Vaccination strategies in Finland.

The purpose of this repository is to generate the state of the epidemic in Finland at any given day. Then use the generated state to run forward simulations with different vaccination strategies.

Organization of the repository:
- `fetch_data.py`: API calls and parsing of the data to construct the state of the epidemic.
- `initial_states.py`: Uses the functions in `fetch_data.py` to generate CSV files with the epidemic state.
- `forward_integration.py`: Code to calculate the parameters of the model and run the forward simulations with a vaccination strategy.
- `experiments.py`: Runs experiments using different basic reproduction numbers (`R_0`), mobility values (tau) and vaccination strategies. The experiments run in parallel calling the functions defined in `forward_integration.py`.
- `compare_vaccination_strategies.ipynb`: Plots the results over time of the experiments.
- `compare_vaccination_age_erva.ipynb`: Plots the results comparing the effect of different strategies at ERVA level and age group level.
- `env_var.py`: This file stores several static parameters to run the experiments, of the epidemic as well as some other parameters to construct the initial states.
- `data_for_paper.ipynb`: Reads the information stored in the CSV files generated by `initial_states.py` and gets the data that will be included in the paper.
- `plot_vaccination.ipynb`: Plot the vaccination strategy given a completed simulation.
- `relation_w1_and_r.ipynb`: There was an observed relation between the number of deaths and the value for `w1`, this file runs some experiments and plot the results.

Data:
- `out/*.npy`: Optimal vaccination strategies per basic reproduction number (`R_0`)
- `out/epidemic_finaland_*.csv`: CSV files with the state of the epidemic.
- `stats/erva_population_age_2020.csv`: The population by ERVA and age group in 2020. In this file the age groups are of 5 years, it is aggregated to get the final counts for each specific number of age groups (8 or 9).
- `out/img/*`: Saved plots from the notebooks.

## Requirements
Developed and tested under
```sh
Python 3.7.4
```

## Installation
1. (Optional) It is recommended to create a virtual environment.
2. Install the packages dependencies.
```sh
pip install -r requirements.txt
```

## Usage
To generate the initial state of epidemic for 8 and 9 age groups
```sh
python initial_states.py 
```

Check out the jupyter notebooks to know how to run the experiments and visualize the data.
